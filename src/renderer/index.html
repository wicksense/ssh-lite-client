<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SSH Lite Client</title>
    <link rel="stylesheet" href="../../node_modules/@xterm/xterm/css/xterm.css" />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <header>
      <div>
        <h1>SSH Lite Client</h1>
        <p>Fast remote config + script editing</p>
      </div>
      <button id="settingsBtn" class="ghost-btn">Settings</button>
    </header>

    <section class="conn">
      <div class="conn-top-row">
        <select id="profileSelect"></select>
        <button id="connectBtn">Connect</button>
        <button id="disconnectBtn">Disconnect</button>
        <span id="status">Disconnected</span>
      </div>

      <details id="connDetails" class="conn-details">
        <summary>Connection details</summary>

        <div class="conn-row conn-row-basic">
          <input id="host" placeholder="Host (e.g. 192.168.1.20)" />
          <input id="username" placeholder="Username" />
          <input id="password" type="password" placeholder="Password (or use private key below)" />
          <button id="pickKeyBtn">Load Key File</button>
        </div>

        <div class="conn-row conn-row-advanced">
          <input id="port" placeholder="Port" value="22" />
          <input id="passphrase" type="password" placeholder="Key passphrase (optional)" />
          <input id="startPath" placeholder="Start path (optional, defaults to .)" />
        </div>

        <div class="conn-row conn-row-key">
          <textarea id="privateKey" placeholder="Private key (optional)"></textarea>
        </div>

        <div class="conn-row conn-row-profile-actions">
          <input id="profileName" placeholder="Profile name" />
          <button id="loadProfileBtn" class="ghost-btn">Load Profile</button>
          <button id="saveProfileBtn" class="ghost-btn">Save Profile</button>
          <button id="deleteProfileBtn" class="ghost-btn">Delete Profile</button>
        </div>
      </details>
    </section>

    <main id="workspaceMain">
      <aside>
        <div class="path-row">
          <input id="pathInput" value="." />
          <button id="loadBtn">Load</button>
        </div>
        <ul id="fileList"></ul>
      </aside>

      <div id="sidebarResizeHandle" class="resize-handle" title="Drag to resize file explorer"></div>

      <section class="editor-wrap">
        <div class="editor-top">
          <div class="view-tabs">
            <button id="editorTabBtn" class="tab-btn active">Editor</button>
            <button id="terminalTabBtn" class="tab-btn">Terminal</button>
          </div>
          <span id="currentFile">No file open</span>
          <div class="editor-actions">
            <button id="closeFileBtn" class="ghost-btn">Close</button>
            <button id="saveBtn">Save</button>
          </div>
        </div>
        <div id="editorHost" aria-label="File editor"></div>
        <section id="terminalPane" class="terminal-pane hidden">
          <div class="terminal-actions">
            <div class="terminal-actions-left">
              <button id="startTermBtn">Start Shell</button>
              <button id="stopTermBtn">Stop Shell</button>
              <button id="clearTermBtn" class="ghost-btn">Clear</button>
            </div>
            <span id="terminalStatus" class="terminal-status">Shell: stopped</span>
          </div>
          <div id="terminalHost"></div>
          <div id="terminalContextMenu" class="context-menu hidden" role="menu" aria-label="Terminal context menu">
            <button id="termMenuCopyBtn" class="context-menu-item" role="menuitem">Copy</button>
            <button id="termMenuPasteBtn" class="context-menu-item" role="menuitem">Paste</button>
          </div>
        </section>
      </section>
    </main>

    <div id="settingsModal" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="settingsTitle">
      <div class="modal-card">
        <div class="modal-header">
          <h2 id="settingsTitle">Settings</h2>
          <button id="closeSettingsBtn" class="ghost-btn">Close</button>
        </div>
        <div class="modal-body">
          <label for="themeSelect">Theme</label>
          <select id="themeSelect">
            <option value="dark">Dark (default)</option>
            <option value="light">Light</option>
          </select>
          <p class="settings-note">Theme is saved on this machine.</p>
        </div>
      </div>
    </div>

    <div id="discardModal" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="discardTitle">
      <div class="modal-card">
        <div class="modal-header">
          <h2 id="discardTitle">Unsaved changes</h2>
        </div>
        <div class="modal-body">
          <p id="discardMessage" class="settings-note">You have unsaved changes. Discard them?</p>
          <div class="modal-actions">
            <button id="discardCancelBtn" class="ghost-btn">Cancel</button>
            <button id="discardConfirmBtn">Discard</button>
          </div>
        </div>
      </div>
    </div>

    <div id="hostTrustModal" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="hostTrustTitle">
      <div class="modal-card">
        <div class="modal-header">
          <h2 id="hostTrustTitle">Trust host key?</h2>
        </div>
        <div class="modal-body">
          <p id="hostTrustMessage" class="settings-note"></p>
          <div class="modal-actions">
            <button id="hostTrustCancelBtn" class="ghost-btn">Cancel</button>
            <button id="hostTrustConfirmBtn">Trust and continue</button>
          </div>
        </div>
      </div>
    </div>

    <div id="deleteProfileModal" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="deleteProfileTitle">
      <div class="modal-card">
        <div class="modal-header">
          <h2 id="deleteProfileTitle">Delete profile?</h2>
        </div>
        <div class="modal-body">
          <p id="deleteProfileMessage" class="settings-note"></p>
          <div class="modal-actions">
            <button id="deleteProfileCancelBtn" class="ghost-btn">Cancel</button>
            <button id="deleteProfileConfirmBtn">Delete</button>
          </div>
        </div>
      </div>
    </div>

    <script src="../../node_modules/monaco-editor/min/vs/loader.js"></script>
    <script src="renderer.js"></script>
  </body>
</html>
